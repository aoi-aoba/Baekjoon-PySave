# 아이디어
괄호 문자열 판단은 대표적인 스택 문제이다.

## 문제 파악하기
괄호 문자열(Parenthesis String, PS)은 두 개의 괄호 기호인 `(` 와 `)` 만으로 구성되어 있는 문자열이다. 그 중에서 괄호의 모양이 바르게 구성된 문자열을 올바른 괄호 문자열(Valid PS, VPS)이라고 부른다.
- 한 쌍의 괄호 기호로 된 `()` 문자열은 기본 VPS 이라고 부른다.
- 만일 `x` 가 VPS 라면 이것을 하나의 괄호에 넣은 새로운 문자열 `(x)`도 VPS 가 된다.
- 그리고 두 VPS `x` 와 `y`를 접합(concatenation)시킨 새로운 문자열 `xy`도 VPS 가 된다.

예를 들어 `(())()`와 `((()))` 는 VPS 이지만 `(()(`, `(())()))` , 그리고 `(()` 는 모두 VPS 가 아닌 문자열이다. 입력으로 주어지는 괄호 문자열이 VPS인지 아닌지를 판단해 그 결과를 `YES` 또는 `NO`로 나타내자.

---

입력은 다음과 같이 주어진다:
- 입력 데이터는 표준 입력을 사용한다.
- 입력은 $T$개의 테스트 데이터로 주어지며, 첫 번째 줄에 이 수를 나타내는 $T$가 주어진다.
- 각 테스트 데이터 첫 줄에는 괄호 문자열이 한 줄에 주어진다. 하나의 괄호 문자열 길이는 2 이상 50 이하이다.

출력은 표준 출력을 사용한다. 만일 입력 괄호 문자열이 VPS라면 `YES`를, 아니라면 `NO`를 한 줄에 하나씩 차례로 출력한다.

## 방법 고안
올바른 괄호 문자열(VPS)의 경우 괄호를 하나씩 닫아나갈 수 있다. 올바른 괄호의 경우 `)`가 나오기 전 맨 마지막에 `(`가 있어서 서로 상쇄시키다 보면 마지막에는 빈칸이 되어 모든 괄호가 서로 짝을 맞춰 상쇄시킬 수 있지만, `)`가 `(` 없이 나타나는 경우에는 올바르지 않은 문자열이 된다. 즉, 스택을 활용하여 맨 위에 있는 값과 함께 들어오는 값을 계속 체크해주며 짝을 맞춰가는 것이 중요하다.

## 코드화
### 내 코드 (Python 3 - 76ms, 33192 KB)
```python
import sys
input = sys.stdin.readline

ans = []
T = int(input())

for _ in range(T):
    stack = []
    line = input().strip()

    for ch in line:
        if len(stack) == 0:
            stack.append(ch)
        elif stack[-1] == '(' and ch == ')' :
            stack.pop()
        else:
            stack.append(ch)

    ans.append("YES" if len(stack) == 0 else "NO")

print("\n".join(ans))
```

`stack` 리스트를 만들어서, 각각의 테스트 케이스를 실행해보자. `line`으로서 오른쪽의 개행 문자를 삭제한 `strip()` 형태의 `input()`을 받아야 한다. 만약 삭제하지 않으면 VPS 판단에 `\n`이 관여한다. 아무튼, 한 문자씩 받아서 처리하는데,
- 스택이 비어 있다면 무조건 그 문자는 `append`
- 스택이 안 비어 있을 때 `stack`의 맨 끝 인덱스를 참조해 `(`이면서 `)`라는 입력이 들어왔다면 `pop`해서 상쇄
- 두 조건에 모두 맞지 않으면 일단 `append`

와 같은 조건문으로 진행한다. 이때, 굳이 왜 비어 있는 경우를 상정하였는지 생각해볼 수도 있겠지만, 이 경우는 `stack[-1]`의 참조 오류를 방지하기 위해서이다. 비어있지 않는 경우에 참조하면 문제가 없지만 비어 있을 때는 index out of range가 되기 때문에 잘못된 참조로 오류가 발생함을 유의해야 한다.

그래서 스택이 모두 비어버리거나 아니거나에 따라 답을 한 줄에 하나씩 출력하기 위해 `ans.append`를 사용하였고, 한 번에 처리하기 위해 `ans`에 `join`을 활용하여 줄바꿈을 추가해 출력하였다.

## 정리
간단한 스택 문제이다. 다만, 여기에서 `len(stack) == 0` 구문은 `len(stack)` 혹은 `if not stack`만 사용해도 `if`문 내에서는 충분히 작동한다는 것을 생각할 수도 있었다. Python에서는 0이냐 아니냐에 따라 `if`문의 condition으로 활용 가능한 점이 포인트.
